# ğŸŒŸ AstrBot è¡¨æƒ…åŒ…ç®¡ç†å™¨

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
![Python Version](https://img.shields.io/badge/Python-3.10.14%2B-blue)
![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey)
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-brightgreen)](CONTRIBUTING.md)
[![Contributors](https://img.shields.io/github/contributors/anka-afk/astrbot_plugin_meme_manager?color=green)](https://github.com/anka-afk/astrbot_plugin_meme_manager/graphs/contributors)
[![Last Commit](https://img.shields.io/github/last-commit/anka-afk/astrbot_plugin_meme_manager)](https://github.com/anka-afk/astrbot_plugin_meme_manager/commits/main)

</div>

<div align="center">

[![Moe Counter](https://count.getloli.com/get/@GalChat?theme=moebooru)](https://github.com/anka-afk/astrbot_plugin_meme_manager)

</div>

## ğŸ“‘ ç›®å½•

- [ğŸŒŸ AstrBot è¡¨æƒ…åŒ…ç®¡ç†å™¨](#-astrbot-è¡¨æƒ…åŒ…ç®¡ç†å™¨)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [ğŸ“¢ é€šçŸ¥](#-é€šçŸ¥)
  - [â“ å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
  - [ğŸš€ åŠŸèƒ½ç‰¹ç‚¹](#-åŠŸèƒ½ç‰¹ç‚¹)
  - [ğŸ“¦ å®‰è£…æ–¹æ³•](#-å®‰è£…æ–¹æ³•)
  - [ğŸ› ï¸ ç¬¬ä¸€æ¬¡ä½¿ç”¨](#ï¸-ç¬¬ä¸€æ¬¡ä½¿ç”¨)
  - [â˜ï¸ å›¾åºŠé…ç½®](#ï¸-å›¾åºŠé…ç½®)
  - [âš™ï¸ é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
  - [ğŸ“ ä½¿ç”¨æŒ‡ä»¤](#-ä½¿ç”¨æŒ‡ä»¤)
  - [ğŸ–¥ï¸ WebUI åŠŸèƒ½é¢„è§ˆ](#ï¸-webui-åŠŸèƒ½é¢„è§ˆ)
  - [ğŸ“œ æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
    - [v3.0x](#v30x)
    - [v3.0](#v30)
    - [v2.2](#v22)
    - [v2.1](#v21)
    - [v2.0](#v20)
    - [v1.x](#v1x)
  - [âš ï¸ æ³¨æ„äº‹é¡¹](#ï¸-æ³¨æ„äº‹é¡¹)
  - [ğŸ› ï¸ é—®é¢˜åé¦ˆ](#ï¸-é—®é¢˜åé¦ˆ)
  - [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ AstrBot è¡¨æƒ…åŒ…ç®¡ç†æ’ä»¶ï¼Œæ”¯æŒ ğŸ¤– AI æ™ºèƒ½å‘é€è¡¨æƒ…ã€ğŸŒ WebUI ç®¡ç†ç•Œé¢ã€â˜ï¸ äº‘ç«¯åŒæ­¥ç­‰ç‰¹æ€§ã€‚

## ğŸ“¢ é€šçŸ¥

æˆ‘æ­£åœ¨å‡†å¤‡**è€ƒç ”**ï¼Œå› æ­¤æœªæ¥çš„ä¸¤ä¸ªæœˆ(åŒ…æ‹¬ä»¥å¾€çš„åŠå¹´)ä¸ä¼šç»´æŠ¤æ­¤æ’ä»¶, 12æœˆä»¥åä¼šé‡æ„ä¸€ä¸‹ã€‚

### æ¯”è¾ƒå¤šçš„é—®é¢˜:
å…³äºä¸è®¿é—®webuiçš„ä½¿ç”¨æ’ä»¶å¹¶ç®¡ç†è¡¨æƒ…åŒ…çš„æ–¹æ³•: 

1. å®‰è£…æ’ä»¶, å¯¹botä½¿ç”¨resetå‘½ä»¤, æ­¤æ—¶å·²ç»å¯ä»¥ä½¿ç”¨
2. å¦‚æœéœ€è¦ä¿®æ”¹è¡¨æƒ…åŒ…ä»¥åŠå¯¹åº”çš„llmæç¤º, æŸ¥çœ‹astrbot/data/memes_dataç›®å½•ä¸‹çš„ç»“æ„, `memes_data.json`å³å¯¹åº”çš„æ–‡ä»¶å¤¹åˆ†ç±»å’Œæè¿°çš„æ˜ å°„å…³ç³», `memes`ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹åç§°å³åˆ†ç±»åç§°, é‡Œé¢çš„å›¾ç‰‡å³å¯¹åº”ç±»åˆ«çš„è¡¨æƒ…åŒ…, ä½ å¯ä»¥æ–°å»ºä¸€ä¸ªç±»åˆ«çš„æ–‡ä»¶å¤¹, å¹¶åœ¨jsonæ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”çš„æè¿°æ¥æ·»åŠ æ–°çš„è¡¨æƒ…ç±»åˆ«, ä¹Ÿå¯ä»¥ç›´æ¥å¾€è‡ªå¸¦çš„è¡¨æƒ…åŒ…ä¸­æ·»åŠ æ–°çš„è¡¨æƒ…(ä¸Šä¼ æ–‡ä»¶åˆ°å¯¹åº”ç›®å½•å³å¯)
3. æ’ä»¶è‡ªå¸¦ä¸€å¥—è¡¨æƒ…åŒ…, å¦‚æœä¸æƒ³æŠ˜è…¾å¯ä»¥ç›´æ¥ä½¿ç”¨

## â“ å¸¸è§é—®é¢˜

1. **Q: å¦‚ä½•å¿«é€Ÿå¼€å§‹ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Ÿ**

   - A: åªéœ€å®‰è£…æ’ä»¶å¹¶é‡å¯ AstrBot å³å¯ï¼Œæ— éœ€ä¿®æ”¹ä»»ä½•äººæ ¼è®¾ç½®ã€‚æ’ä»¶ä¼šè‡ªåŠ¨é…ç½®æ‰€éœ€çš„æç¤ºè¯å’Œåˆå§‹è¡¨æƒ…åŒ…ã€‚(âš ï¸ é‡è¦ï¼šè¯·å‹¿åœ¨äººæ ¼è®¾ç½®ä¸­æ·»åŠ ä»»ä½•è¡¨æƒ…ç›¸å…³æç¤ºè¯)

2. **Q: WebUI æ— æ³•è®¿é—®æ€ä¹ˆè§£å†³ï¼Ÿ**

   - A: è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š
     1. Docker éƒ¨ç½²ç”¨æˆ·è¯·å…ˆç¡®ä¿å·²æ˜ å°„ç«¯å£ï¼Œè¯¦è§ï¼š[ISSUE#1](https://github.com/anka-afk/astrbot_plugin_meme_manager/issues/1)
     2. ä½¿ç”¨å†…ç½‘ç©¿é€çš„ç”¨æˆ·éœ€é…ç½® NAT è½¬å‘ï¼Œå°†å†…ç½‘ 5000 ç«¯å£æ˜ å°„åˆ°å¤–ç½‘
     3. äº‘æœåŠ¡å™¨ç”¨æˆ·è¯·æ£€æŸ¥å®‰å…¨ç»„æ˜¯å¦å·²æ”¾è¡Œ 5000 ç«¯å£çš„å…¥ç«™è§„åˆ™

3. **Q: æ˜¯å¦å¿…é¡»é…ç½®å›¾åºŠæ‰èƒ½ä½¿ç”¨ï¼Ÿ**

   - A: ä¸éœ€è¦ã€‚é™¤äº†äº‘ç«¯åŒæ­¥åŠŸèƒ½å¤–ï¼Œå…¶ä»–æ‰€æœ‰åŠŸèƒ½ï¼ˆåŒ…æ‹¬è¡¨æƒ…ç®¡ç†åå°ï¼‰éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚å›¾åºŠé…ç½®æ˜¯å¯é€‰çš„ã€‚

4. **Q: å¦‚ä½•ç®¡ç†è¡¨æƒ…åŒ…ï¼Ÿ**

   - A: ä½¿ç”¨å‘½ä»¤ `/è¡¨æƒ…ç®¡ç† å¼€å¯ç®¡ç†åå°` å¯åŠ¨ WebUIï¼Œåœ¨ç®¡ç†ç•Œé¢ä¸­æ‚¨å¯ä»¥ï¼š
     - æ·»åŠ /åˆ é™¤è¡¨æƒ…åŒ…
     - åˆ›å»º/ä¿®æ”¹è¡¨æƒ…åˆ†ç±»
     - ç¼–è¾‘è¡¨æƒ…æè¿°ï¼ˆç”¨äºæŒ‡å¯¼ bot ä½¿ç”¨åœºæ™¯ï¼‰
       æ‰€æœ‰ä¿®æ”¹éƒ½ä¼šå®æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æˆ–é¢å¤–é…ç½®ã€‚

5. **Q: æ’ä»¶æ˜¯å¦åŒ…å«é¢„è®¾è¡¨æƒ…åŒ…ï¼Ÿ**

   - A: æ˜¯çš„ã€‚é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…ä¸€å¥—ç²¾å¿ƒæŒ‘é€‰çš„åˆå§‹è¡¨æƒ…åŒ…ï¼Œè®©æ‚¨å¯ä»¥ç«‹å³å¼€å§‹ä½¿ç”¨ã€‚

6. **Q: æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ**

   - A: æ¨èä»¥ä¸‹ä½¿ç”¨æµç¨‹ï¼š
     1. å®‰è£…æ’ä»¶åç›´æ¥ä½¿ç”¨ `/reset` é‡ç½®å½“å‰å¯¹è¯
     2. æ— éœ€ä¿®æ”¹ä»»ä½•äººæ ¼è®¾ç½®æˆ–æ·»åŠ é¢å¤–æç¤ºè¯
     3. éœ€è¦æ›´å¤šè‡ªå®šä¹‰è®¾ç½®æ—¶ï¼Œè¯·å‚è€ƒ[ğŸ› ï¸ ç¬¬ä¸€æ¬¡ä½¿ç”¨](#ï¸-ç¬¬ä¸€æ¬¡ä½¿ç”¨)ç« èŠ‚

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

| åŠŸèƒ½                    | æè¿°                                                             |
| ----------------------- | ---------------------------------------------------------------- |
| ğŸ¤– AI æ™ºèƒ½è¯†åˆ«          | è‡ªåŠ¨è¯†åˆ«å¯¹è¯åœºæ™¯ï¼Œå‘é€åˆé€‚çš„è¡¨æƒ…                                 |
| ğŸ–¼ï¸ å¿«é€Ÿä¸Šä¼ å’Œç®¡ç†è¡¨æƒ…åŒ… | é€šè¿‡å‘½ä»¤å¿«é€Ÿä¸Šä¼ å’Œç®¡ç†è¡¨æƒ…åŒ…                                     |
| ğŸŒ WebUI ç®¡ç†ç•Œé¢       | æä¾›ä¾¿æ·çš„ WebUI ç®¡ç†ç•Œé¢                                        |
| â˜ï¸ äº‘ç«¯å›¾åºŠåŒæ­¥         | æ”¯æŒä¸äº‘ç«¯å›¾åºŠåŒæ­¥ï¼Œæ–¹ä¾¿å¤šè®¾å¤‡ä½¿ç”¨                               |
| ğŸ¯ ç²¾ç¡®çš„è¡¨æƒ…åˆ†ç±»ç³»ç»Ÿ   | é€šè¿‡ç±»åˆ«ç®¡ç†è¡¨æƒ…ï¼Œæå‡ä½¿ç”¨ä½“éªŒ                                   |
| ğŸ”’ å®‰å…¨çš„è®¿é—®æ§åˆ¶æœºåˆ¶   | ç¡®ä¿ç®¡ç†ç•Œé¢çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®                             |
| ğŸ“Š è¡¨æƒ…å‘é€æ§åˆ¶         | å¯ä»¥æ§åˆ¶æ¯æ¬¡å‘é€çš„è¡¨æƒ…æ•°é‡å’Œé¢‘ç‡                                 |
| ğŸ”„ è‡ªåŠ¨ç»´æŠ¤ Prompt      | æ‰€æœ‰ prompt ä¼šæ ¹æ®ä¿®æ”¹çš„è¡¨æƒ…åŒ…æ–‡ä»¶å¤¹ç›®å½•è‡ªåŠ¨ç»´æŠ¤ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ ï¼ |

## ğŸ“¦ å®‰è£…æ–¹æ³•

1. ç¡®ä¿å·²å®‰è£… AstrBot
2. å°†æ’ä»¶å¤åˆ¶åˆ° AstrBot çš„æ’ä»¶ç›®å½•ï¼ˆä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Astrbot çš„æ’ä»¶ç®¡ç†å™¨å®‰è£…ï¼Œæˆ–ä¸‹è½½æœ¬é¡¹ç›®ä¸Šä¼ å‹ç¼©åŒ…ï¼‰
3. é‡å¯ AstrBot æˆ–ä½¿ç”¨çƒ­åŠ è½½å‘½ä»¤

## ğŸ› ï¸ ç¬¬ä¸€æ¬¡ä½¿ç”¨

æ³¨æ„ï¼šç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·å…ˆè¿›è¡Œé…ç½®ï¼Œé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š

1. **æ‰“å¼€è®¾ç½®**ï¼šè¿›å…¥è®¾ç½®ç•Œé¢ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š
   ![æ‰“å¼€è®¾ç½®](.github/img/open_setting.png)

2. **è¿›è¡Œè®¾ç½®**ï¼šæ ¹æ®ä»¥ä¸‹è¯´æ˜è¿›è¡Œé…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»é—®å·äº†è§£é…ç½®è¯´æ˜ï¼š
   ![è®¾ç½®æ’ä»¶](.github/img/setting.png)

   > **æ³¨æ„**ï¼šä½ éœ€è¦è®¾ç½®å¥½å›¾åºŠçš„ API Keyã€API Secret å’Œç©ºé—´åç§°ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨å›¾åºŠåŒæ­¥ç­‰åŠŸèƒ½ã€‚å¦‚æœä¸è®¾ç½®å›¾åºŠä¿¡æ¯ï¼Œé»˜è®¤æ— æ³•ä½¿ç”¨å›¾åºŠåŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½å¦‚ WebUI å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

## â˜ï¸ å›¾åºŠé…ç½®

æœ¬æ’ä»¶æ”¯æŒ **stardots** å’Œ **Cloudflare R2** ä¸¤ç§å›¾åºŠã€‚

### æ–¹æ¡ˆä¸€ï¼šStardots å›¾åºŠï¼ˆå›½å†…è®¿é—®å‹å¥½ï¼‰

1. **æ³¨å†Œè´¦å·**ï¼šå¦‚æœæ²¡æœ‰è´¦å·ï¼Œä½ éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ª stardots è´¦å·ï¼Œæˆ–ç›´æ¥ä½¿ç”¨å…¶ä»–æ–¹å¼ç™»å½•ã€‚

   > Stardots å›¾åºŠå…è´¹è´¦æˆ·æ”¯æŒ 1 ä¸ªç©ºé—´ï¼Œ2024 å¼ å›¾åƒï¼ˆå¯¹äºè¡¨æƒ…åŒ…æ¥è¯´æ˜¯è¶³å¤Ÿçš„ï¼‰ï¼Œæ¯æœˆ 10GB æµé‡ä¼ è¾“ã€‚å…è´¹è´¦æˆ·å¯¹äºæˆ‘ä»¬åŒæ­¥å­˜å‚¨è¡¨æƒ…åŒ…çš„éœ€æ±‚æ¥çœ‹æ˜¯è¶³å¤Ÿçš„ã€‚

2. **å»ºç«‹ç©ºé—´**ï¼šæ³¨å†Œè´¦å·åï¼Œä½ éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªç©ºé—´ï¼Œæ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š
   ![å»ºç«‹ç©ºé—´](.github/img/stardots_step2.png)

   > è®°ä½ä½ å»ºç«‹çš„ç©ºé—´çš„åå­—ï¼Œå°†å…¶å¡«å…¥æ’ä»¶è®¾ç½®ä¸­çš„å›¾åºŠé…ç½®ä¿¡æ¯çš„ç©ºé—´åç§°ä¸­ã€‚

3. **è·å– API Key å’Œ API Secret**ï¼šåœ¨åŒæ ·çš„ç•Œé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„"å¼€æ”¾ API" -> "å¯†é’¥"ï¼Œç‚¹å‡»ç”Ÿæˆå¯†é’¥ï¼š
   ![ç”Ÿæˆå¯†é’¥](.github/img/stardots_step3.png)

   ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
   ![è·å¾—å¯†é’¥](.github/img/stardots_step4.png)

   å°†å…¶ä¸­çš„ API Key å’Œ API Secret å¡«å…¥æ’ä»¶è®¾ç½®ä¸­çš„å›¾åºŠé…ç½®ä¿¡æ¯ä¸­ï¼Œç‚¹å‡»ä¿å­˜é…ç½®ï¼ŒAstrBot å°†ä¼šé‡å¯ã€‚

### æ–¹æ¡ˆäºŒï¼šCloudflare R2 å›¾åºŠï¼ˆå›½é™…è®¿é—®å‹å¥½ï¼‰

1. **åˆ›å»º Cloudflare è´¦å·**ï¼šå¦‚æœè¿˜æ²¡æœ‰è´¦å·ï¼Œè¯·å…ˆæ³¨å†Œ Cloudflare

2. **åˆ›å»º R2 å­˜å‚¨æ¡¶**ï¼š
   - ç™»å½• Cloudflare Dashboard
   - è¿›å…¥ R2 é¡µé¢
   - ç‚¹å‡» "Create bucket" åˆ›å»ºå­˜å‚¨æ¡¶
   - è®°ä½å­˜å‚¨æ¡¶åç§°ï¼Œå¡«å…¥é…ç½®ä¸­çš„ `bucket_name`

3. **è·å– R2 API å‡­è¯**ï¼š
   - åœ¨ R2 é¡µé¢ï¼Œç‚¹å‡» "Manage R2 API Tokens"
   - ç‚¹å‡» "Create API Token"
   - è®°å½•ç”Ÿæˆçš„ `Access Key ID` å’Œ `Secret Access Key`
   - åœ¨ R2 é¡µé¢å³ä¸Šè§’å¯ä»¥æ‰¾åˆ° `Account ID`

4. **é…ç½®æ’ä»¶**ï¼šåœ¨æ’ä»¶è®¾ç½®ä¸­é€‰æ‹© `cloudflare_r2` å¹¶å¡«å†™ï¼š
   ```yaml
         # Cloudflare Account ID (account_id)
         account_id: "your_account_id"
         # R2 Access Key ID (access_key_id)
         access_key_id: "your_access_key_id"
         # R2 Secret Access Key (secret_access_key)
         secret_access_key: "your_secret_access_key"
         # R2 Bucket åç§° (bucket_name)
         bucket_name: "your_bucket_name"
         # è‡ªå®šä¹‰CDNåŸŸå (å¯é€‰) (public_url)
         # ä¾‹å¦‚: https://ä½ çš„åŸŸå.com
         public_url: "https://ä½ çš„åŸŸå.com"
   ```

5. **å¼€å¯å…¬å…±è®¿é—®**ï¼ˆå¯é€‰ï¼‰ï¼š
   - åœ¨å­˜å‚¨æ¡¶è®¾ç½®ä¸­ï¼Œå¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸå
   - æˆ–è€…ä½¿ç”¨é»˜è®¤çš„ R2.dev åŸŸåï¼ˆ`https://<bucket>.<account_id>.r2.dev`ï¼‰
   - å°†åŸŸåå¡«å…¥ `public_url` é…ç½®é¡¹

6. **ä½¿ç”¨å›¾åºŠåŠŸèƒ½**ï¼š
   - å‘é€ `/è¡¨æƒ…ç®¡ç† åŒæ­¥çŠ¶æ€` æŸ¥çœ‹åŒæ­¥çŠ¶æ€
   - å‘é€ `/è¡¨æƒ…ç®¡ç† åŒæ­¥åˆ°äº‘ç«¯` ä¸Šä¼ è¡¨æƒ…åŒ…åˆ°R2
   - å‘é€ `/è¡¨æƒ…ç®¡ç† ä»äº‘ç«¯åŒæ­¥` ä»R2ä¸‹è½½è¡¨æƒ…åŒ…

> **Cloudflare R2 ä¼˜åŠ¿**ï¼š
> - æ¯æœˆ10GBå…è´¹å­˜å‚¨
> - æ¯æœˆ100ä¸‡æ¬¡å…è´¹Aç±»æ“ä½œ
> - å…¨çƒCDNåŠ é€Ÿ
> - æ”¯æŒè‡ªå®šä¹‰åŸŸå
> - æ™ºèƒ½ä¸Šä¼ è®°å½•ï¼Œé¿å…é‡å¤ä¸Šä¼ ç›¸åŒæ–‡ä»¶

## âš™ï¸ é…ç½®è¯´æ˜

æ’ä»¶é…ç½®é¡¹åŒ…æ‹¬ï¼š

- `image_host`: é€‰æ‹©å›¾åºŠæœåŠ¡ (æ”¯æŒ stardots å’Œ cloudflare_r2)
- `image_host_config`: å›¾åºŠé…ç½®ä¿¡æ¯ï¼ˆæ ¹æ®é€‰æ‹©çš„å›¾åºŠæœåŠ¡å¡«å†™ç›¸åº”é…ç½®ï¼‰
- `webui_port`: WebUI æœåŠ¡ç«¯å£å·
- `max_emotions_per_message`: æ¯æ¡æ¶ˆæ¯æœ€å¤§è¡¨æƒ…æ•°é‡
- `emotions_probability`: è¡¨æƒ…è§¦å‘æ¦‚ç‡ (0-100)
- `enable_mixed_message`: å¯ç”¨å›å¤å¸¦å›¾åŠŸèƒ½
- `mixed_message_probability`: å›å¤å¸¦å›¾æ¦‚ç‡ (0-100)
- `strict_max_emotions_per_message`: æ˜¯å¦ä¸¥æ ¼é™åˆ¶è¡¨æƒ…æ•°é‡
- `enable_loose_emotion_matching`: æ˜¯å¦å¯ç”¨å®½æ¾çš„è¡¨æƒ…åŒ¹é…
- `enable_alternative_markup`: æ˜¯å¦å¯ç”¨å¤‡ç”¨æ ‡è®°
- `enable_repeated_emotion_detection`: æ˜¯å¦å¯ç”¨é‡å¤è¡¨æƒ…æ£€æµ‹
- `high_confidence_emotions`: é«˜ç½®ä¿¡åº¦è¡¨æƒ…åˆ—è¡¨

### âš ï¸ é‡è¦æç¤º

**åˆ†æ®µå›å¤å…¼å®¹æ€§ï¼š**
- å¦‚æœæ‚¨åœ¨ AstrBot é…ç½®ä¸­å¼€å¯äº† **åˆ†æ®µå›å¤** åŠŸèƒ½ï¼Œå›å¤å¸¦å›¾åŠŸèƒ½å¯èƒ½ä¼šå¤±æ•ˆ
- è¿™æ˜¯ç”±äºåˆ†æ®µå›å¤æœºåˆ¶ä¼šå°†æ¶ˆæ¯ç»„ä»¶é€ä¸ªå‘é€å¯¼è‡´çš„
- å¦‚éœ€å®Œæ•´çš„å›å¤å¸¦å›¾ä½“éªŒï¼Œè¯·è€ƒè™‘å…³é—­åˆ†æ®µå›å¤åŠŸèƒ½

## ğŸ“ ä½¿ç”¨æŒ‡ä»¤

| æŒ‡ä»¤                        | æè¿°                    |
| --------------------------- | ----------------------- |
| `/è¡¨æƒ…ç®¡ç† æŸ¥çœ‹å›¾åº“`        | ğŸ“š åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¡¨æƒ…ç±»åˆ« |
| `/è¡¨æƒ…ç®¡ç† æ·»åŠ è¡¨æƒ… [ç±»åˆ«]` | â• æ·»åŠ æ–°è¡¨æƒ…åˆ°æŒ‡å®šåˆ†ç±» |
| `/è¡¨æƒ…ç®¡ç† å¼€å¯ç®¡ç†åå°`    | ğŸš€ å¯åŠ¨ WebUI æœåŠ¡      |
| `/è¡¨æƒ…ç®¡ç† å…³é—­ç®¡ç†åå°`    | ğŸ”’ å…³é—­ WebUI æœåŠ¡      |
| `/è¡¨æƒ…ç®¡ç† åŒæ­¥çŠ¶æ€`        | ğŸ”„ æ£€æŸ¥åŒæ­¥çŠ¶æ€         |
| `/è¡¨æƒ…ç®¡ç† åŒæ­¥åˆ°äº‘ç«¯`      | â˜ï¸ å°†æœ¬åœ°è¡¨æƒ…åŒæ­¥åˆ°äº‘ç«¯ |
| `/è¡¨æƒ…ç®¡ç† ä»äº‘ç«¯åŒæ­¥`      | â¬‡ï¸ ä»äº‘ç«¯åŒæ­¥è¡¨æƒ…åˆ°æœ¬åœ° |

## ğŸ–¥ï¸ WebUI åŠŸèƒ½é¢„è§ˆ

ä»¥ä¸‹æ˜¯ WebUI çš„åŠŸèƒ½é¢„è§ˆï¼š

| åŠŸèƒ½           | é¢„è§ˆå›¾ç¤º                                                      |
| -------------- | ------------------------------------------------------------- |
| ç™»å½•ç•Œé¢       | ![ç™»å½•ç•Œé¢](.github/img/login_screenshot.png)                 |
| è¡¨æƒ…åŒ…ç®¡ç†ç•Œé¢ | ![è¡¨æƒ…åŒ…ç®¡ç†ç•Œé¢](.github/img/meme_management_screenshot.png) |

## ğŸ“œ æ›´æ–°æ—¥å¿—

### v3.1x

- ğŸ› ï¸ ä¿®å¤ AstrBot 4.5.0+ ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼Œè§£å†³è¡¨æƒ…æ ‡ç­¾è¿‡æ»¤å¼‚å¸¸
- ğŸ’¡ æ–°å¢å®½æ¾åŒ¹é…æ¨¡å¼, å¤‡ç”¨æ ‡è®°åŒ¹é…, é‡å¤è¡¨æƒ…æ£€æµ‹, é«˜ç½®ä¿¡åº¦è¡¨æƒ…è®¾ç½®
- ğŸ› ï¸ ä¿®å¤ webui ä¸­çš„ä¸Šä¼ , æˆ‘æ˜¯çŒªé¼»
- ğŸ› ï¸ æä¾› webp æ ¼å¼æ”¯æŒ
- â˜ï¸ æ–°å¢ Cloudflare R2 å›¾åºŠæ”¯æŒï¼ˆæ™ºèƒ½ä¸Šä¼ è®°å½•ï¼Œé¿å…é‡å¤ä¸Šä¼ ï¼‰
- ğŸ–¼ï¸ æ–°å¢å›å¤å¸¦å›¾åŠŸèƒ½ï¼šæ–‡æœ¬å’Œè¡¨æƒ…å›¾ç‰‡å¯åœ¨åŒä¸€æ¡æ¶ˆæ¯ä¸­å‘é€
- ğŸ›ï¸ æ–°å¢å›å¤å¸¦å›¾æ¦‚ç‡æ§åˆ¶ï¼Œè®©è¡¨æƒ…åŒ…è¡Œä¸ºæ›´è‡ªç„¶
- ğŸ“Š å¢å¼ºåŒæ­¥çŠ¶æ€å‘½ä»¤ï¼Œæ”¯æŒè¯¦ç»†å‚æ•°æŸ¥çœ‹æ–‡ä»¶åˆ†ç±»ç»Ÿè®¡
- ğŸ”„ ä¿®å¤ MessageChain è¿­ä»£é”™è¯¯å’Œ R2 å›¾åºŠåŒæ­¥å‰ç¼€é—®é¢˜

### v3.0x

- ğŸ› ï¸ ä¿®å¤æ¶ˆæ¯ç±»å‹ä¸æ”¯æŒæŸ¥çœ‹é—®é¢˜
- ğŸ‰ ç§»é™¤äº† imghdr ä¾èµ–, ç°åœ¨å…¼å®¹æ›´é«˜ç‰ˆæœ¬ python

### v3.0

- ğŸ”„ å®Œå…¨é‡æ„ä»£ç æ¶æ„
- ğŸŒŸ æ–°å¢ WebUI ç®¡ç†ç•Œé¢
- â˜ï¸ æ·»åŠ å›¾åºŠåŒæ­¥åŠŸèƒ½
- ğŸ¤– ä¼˜åŒ–è¡¨æƒ…è¯†åˆ«ç®—æ³•

### v2.2

- ğŸ‰ å¢åŠ æ›´å¤šè¡¨æƒ…åŒ…
- ğŸ› ï¸ ä¿®å¤ TTS å…¼å®¹æ€§é—®é¢˜

### v2.1

- âš¡ ä¼˜åŒ–æ¶ˆæ¯å‘é€é€»è¾‘
- âœ‰ï¸ æ–‡æœ¬å’Œè¡¨æƒ…åˆ†å¼€å‘é€

### v2.0

- ğŸŒ æ”¯æŒç½‘ç»œå›¾ç‰‡ä¸Šä¼ 
- ğŸ”§ ä¼˜åŒ–ä¸Šä¼ æµç¨‹

### v1.x

- ğŸš€ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ“¦ åŸºç¡€è¡¨æƒ…ç®¡ç†åŠŸèƒ½
- ğŸ–¼ï¸ å¤šå›¾ä¸Šä¼ æ”¯æŒ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. WebUI æœåŠ¡éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½å¼€å¯
2. ä½¿ç”¨äº‘ç«¯åŒæ­¥åŠŸèƒ½å‰éœ€è¦æ­£ç¡®é…ç½®å›¾åºŠä¿¡æ¯
3. è¯·å‹¿å°† WebUI è®¿é—®å¯†é’¥åˆ†äº«ç»™æœªæˆæƒç”¨æˆ·

## ğŸ› ï¸ é—®é¢˜åé¦ˆ

å¦‚æœé‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œæ¬¢è¿åœ¨ GitHub æäº¤ Issueã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚
